{"version":3,"file":"silentium-morphdom.js","sources":["../src/index.ts"],"sourcesContent":["import morphdom from \"morphdom\";\nimport { All, Applied, Message, MessageType, TapParent } from \"silentium\";\n\n/**\n * Represents a function that renders HTML string into an element\n */\nexport function Render(\n  $root: MessageType<HTMLElement>,\n  $html: MessageType<string>,\n) {\n  let div: any = null;\n  const $rootChild = Applied($root, (root) => {\n    div = document.createElement(\"div\");\n    root.appendChild(div);\n    return div;\n  });\n  const $all = All($html, $rootChild);\n  const transport = TapParent<[string, HTMLElement]>(function ([html]) {\n    if (div !== null) {\n      div = morphdom(div, html);\n      this.use(div);\n    }\n  });\n  return Message<HTMLElement>((t) => {\n    $all.pipe(transport.child(t));\n  });\n}\n"],"names":[],"mappings":";;;AAMO,SAAS,MAAA,CACd,OACA,KAAA,EACA;AACA,EAAA,IAAI,GAAA,GAAW,IAAA;AACf,EAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,KAAA,EAAO,CAAC,IAAA,KAAS;AAC1C,IAAA,GAAA,GAAM,QAAA,CAAS,cAAc,KAAK,CAAA;AAClC,IAAA,IAAA,CAAK,YAAY,GAAG,CAAA;AACpB,IAAA,OAAO,GAAA;AAAA,EACT,CAAC,CAAA;AACD,EAAA,MAAM,IAAA,GAAO,GAAA,CAAI,KAAA,EAAO,UAAU,CAAA;AAClC,EAAA,MAAM,SAAA,GAAY,SAAA,CAAiC,SAAU,CAAC,IAAI,CAAA,EAAG;AACnE,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,GAAA,GAAM,QAAA,CAAS,KAAK,IAAI,CAAA;AACxB,MAAA,IAAA,CAAK,IAAI,GAAG,CAAA;AAAA,IACd;AAAA,EACF,CAAC,CAAA;AACD,EAAA,OAAO,OAAA,CAAqB,CAAC,CAAA,KAAM;AACjC,IAAA,IAAA,CAAK,IAAA,CAAK,SAAA,CAAU,KAAA,CAAM,CAAC,CAAC,CAAA;AAAA,EAC9B,CAAC,CAAA;AACH;;;;"}